(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1337:function(t,e,n){t.exports=n.p+"img/circleBottom.bb867d4.png"},1454:function(t,e,n){"use strict";n.r(e);var a=n(1284),r=n(1304),i=n(1302),s=n(341),o=n(349),c=n(1285),u=n(200),l=(n(57),[function(){var t=this._self._c;return t("div",{staticClass:"img-container"},[t("img",{staticClass:"circle-bottom",attrs:{src:n(1337),alt:"Circle"}})])}]),m=n(50),d=(n(111),n(59),n(15),n(6),n(73),n(60),n(103),n(452)),h=n(1318),p=n(1376),f=new(n(1315))(window.ethereum),v={name:"SwapPage",data:function(){return{chains:void 0,selectedItem1:null,selectedItem2:null,tokenInAmountUser:0,tokenAmountIn:0,tokenAmountOut:0,tokens:void 0,chainFrom:void 0,chainTo:void 0,tokensFrom:void 0,tokensTo:void 0,route:void 0,requestId:void 0,heightChart:void 0,swapFrom:{img:n(233),name:"bear",amount:void 0},swapTo:{img:n(201),name:"btc",amount:void 0},rules:[function(t){return!!t||"Field is required"},function(t){return/^\d+(\.\d+)?$/.test(t)||"Invalid numeric input"},function(t){return 0<t||"Value must be positive"}],numericFormatConfig:{decimalSeparator:".",fractionDigitsMax:2,fractionDigitsMin:2,fractionDigitsSeparator:"",thousandsDigitsSeparator:","}}},head:function(){return{title:"Swap"}},computed:{items1Filtered:function(){var t,e=this;return null==(t=this.tokens)?void 0:t.filter(function(t){return null!==(t=t.chainId===(null==(t=e.chainFrom)?void 0:t.chainId))?t:""})},items2Filtered:function(){var t,e=this;return null==(t=this.tokens)?void 0:t.filter(function(t){return null!==(t=t.chainId===(null==(t=e.chainTo)?void 0:t.chainId))?t:""})},chainsFromFiltered:function(){var t,e=this;return null==(t=this.chains)?void 0:t.filter(function(t){return null!==(t=t!==e.chainTo)?t:""})},chainsToFiltered:function(){var t,e=this;return null==(t=this.chains)?void 0:t.filter(function(t){return null!==(t=t!==e.chainFrom)?t:""})}},mounted:function(){var e=this;return Object(m.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$metamask.checkConnection();case 2:return t.next=4,e.getSquidInfo();case 4:window.addEventListener("resize",e.styles);case 5:case"end":return t.stop()}},t)}))()},beforeDestroy:function(){window.removeEventListener("resize",this.styles)},methods:{rightChain:function(){var a=this;return Object(m.a)(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e="0x"+Number(a.chainFrom.chainId).toString(16),t.next=3,window.ethereum.request({method:"eth_chainId",params:[]});case 3:if((n=t.sent)!==e)return t.next=7,a.$metamask.switchToChainBySquidParams(a.chainFrom);t.next=7;break;case 7:return t.abrupt("return",n===e);case 8:case"end":return t.stop()}},t)}))()},getSquidInfo:function(){var a=this;return Object(m.a)(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.$squidAxelar.init();case 2:e=a.$squidAxelar.getChains(),n=a.$squidAxelar.getTokens(),a.chains=e,a.tokens=n;case 6:case"end":return t.stop()}},t)}))()},getRoute:function(){var n=this;return Object(m.a)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.selectedItem1&&n.selectedItem2)return t.prev=1,t.next=4,n.$squidAxelar.getRoute({fromChain:n.chainFrom.chainId,toChain:n.chainTo.chainId,fromToken:n.selectedItem1.address,toToken:n.selectedItem2.address,fromAmount:BigInt(n.tokenAmountIn*Math.pow(10,n.selectedItem1.decimals)).toString().replace(/[.,]/g,""),fromAddress:n.$metamask.userAccount,toAddress:n.$metamask.userAccount,slippageConfig:{slippage:1.5}});t.next=14;break;case 4:return e=t.sent,n.route=e.route,n.requestId=e.requestId,n.tokenAmountOut=e.route.estimate.toAmount/Math.pow(10,n.selectedItem2.decimals),t.abrupt("return",e);case 11:t.prev=11,t.t0=t.catch(1),n.$alert("cancel",t.t0);case 14:case"end":return t.stop()}},t,null,[[1,11]])}))()},submitForm:function(){var e=this;return Object(m.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$refs.form.validate())return t.next=3,e.swapTokens();t.next=3;break;case 3:case"end":return t.stop()}},t)}))()},setMaxValue:function(){this.tokenAmountIn=this.tokenInAmountUser|Object(d.b)(this.numericFormatConfig),this.calculateMidPrice()},switchTokens:function(){var t=this.selectedItem1;this.selectedItem1=this.selectedItem2,this.selectedItem2=t},swapValues:function(){var t=this.$refs.select1.internalValue;this.$refs.select1.internalValue=this.$refs.select2.internalValue,this.$refs.select2.internalValue=t},balanceOf:function(n){var a=this;return Object(m.a)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.rightChain())return e=new f.eth.Contract(h,n.address),t.next=4,e.methods.balanceOf(a.$metamask.userAccount).call();t.next=6;break;case 4:e=t.sent,a.tokenInAmountUser=e/Math.pow(10,n.decimals);case 6:case"end":return t.stop()}},t)}))()},swapTokens:function(){var n=this;return Object(m.a)(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.rightChain())return t.prev=1,e=new p.providers.Web3Provider(window.ethereum),e=e.getSigner(),t.next=6,n.$squidAxelar.executeRoute(e,n.route);t.next=15;break;case 6:e=t.sent,n.$alert("cancel",e.toString()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n.$alert("cancel",t.t0.toString().split(":")[1]);case 13:t.next=16;break;case 15:n.$alert("cancel","Please switch to"+n.chainFrom.network+"network");case 16:case"end":return t.stop()}},t,null,[[1,10]])}))()}}},x=(n(1352),n(1354),n(68)),x=Object(x.a)(v,function(){var e=this,n=e._self._c;return n("div",{attrs:{id:"swap"}},[n("section",{staticClass:"fwrap center divcol",attrs:{id:"swap-content"}},[n("h1",{staticClass:"swap-title"},[e._v("Bridge Tokens")]),e._v(" "),n(i.a,{ref:"form"},[n("div",{staticClass:"divrow mobile-column",staticStyle:{gap:"20px"}},[n(r.a,{staticClass:"swap-card divcol center jspace"},[n("span",{staticClass:"dm-400"},[e._v("\n            From\n          ")]),e._v(" "),n("div",{staticClass:"swap-container"},[n(c.a,{staticStyle:{width:"80px"},attrs:{items:e.chainsFromFiltered,rules:[e.rules[0]]},scopedSlots:e._u([{key:"item",fn:function(t){t=t.item;return[n(o.a,{staticStyle:{"max-width":"20px"},attrs:{src:t.chainIconURI}}),e._v(" "),n("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.axelarChainName))])]}},{key:"selection",fn:function(t){t=t.item;return[t?n(o.a,{staticStyle:{"max-width":"20px"},attrs:{src:t.chainIconURI}}):e._e()]}}]),model:{value:e.chainFrom,callback:function(t){e.chainFrom=t},expression:"chainFrom"}}),e._v(" "),n(c.a,{ref:"select1",staticClass:"input-auto",attrs:{"no-data-text":"Please select a blockchain first",items:e.items1Filtered,"item-text":"text","item-value":"value"},scopedSlots:e._u([{key:"item",fn:function(t){t=t.item;return[n(o.a,{staticStyle:{"max-width":"20px"},attrs:{src:t.logoURI}}),e._v(" "),n("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.name))])]}},{key:"selection",fn:function(t){t=t.item;return[t?n(o.a,{staticStyle:{"max-width":"20px"},attrs:{src:t.logoURI}}):e._e(),e._v(" "),t?n("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.symbol))]):e._e()]}}]),model:{value:e.selectedItem1,callback:function(t){e.selectedItem1=t},expression:"selectedItem1"}}),e._v(" "),n(u.a,{staticClass:"input-number",attrs:{rules:e.rules,value:0,placeholder:"0.00"},on:{change:e.getRoute},model:{value:e.tokenAmountIn,callback:function(t){e.tokenAmountIn=t},expression:"tokenAmountIn"}}),e._v(" "),n(a.a,{staticClass:"btn-max",on:{click:e.setMaxValue}},[e._v("max")])],1),e._v(" "),n("div",{staticClass:"divrow center jspace mobile-btn",staticStyle:{width:"350px"}},[n(s.a,{on:{click:function(t){return e.swapValues()}}},[e._v("mdi-swap-vertical")])],1),e._v(" "),n("span",{staticClass:"dm-400"},[e._v("\n            To\n          ")]),e._v(" "),n("div",{staticClass:"swap-container swap-container2"},[n(c.a,{staticStyle:{width:"80px"},attrs:{items:e.chainsToFiltered,rules:[e.rules[0]]},scopedSlots:e._u([{key:"item",fn:function(t){t=t.item;return[n(o.a,{staticStyle:{"max-width":"20px"},attrs:{src:t.chainIconURI}}),e._v(" "),n("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.axelarChainName))])]}},{key:"selection",fn:function(t){t=t.item;return[t?n(o.a,{staticStyle:{"max-width":"20px"},attrs:{src:t.chainIconURI}}):e._e()]}}]),model:{value:e.chainTo,callback:function(t){e.chainTo=t},expression:"chainTo"}}),e._v(" "),n(c.a,{ref:"select2",staticClass:"input-auto",attrs:{"no-data-text":"Please select a blockchain first",items:e.items2Filtered,"item-text":"text","item-value":"value"},scopedSlots:e._u([{key:"item",fn:function(t){t=t.item;return[n(o.a,{staticStyle:{"max-width":"20px"},attrs:{src:t.logoURI}}),e._v(" "),n("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.name))])]}},{key:"selection",fn:function(t){t=t.item;return[t?n(o.a,{staticStyle:{"max-width":"20px"},attrs:{src:t.logoURI}}):e._e(),e._v(" "),t?n("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.symbol))]):e._e()]}}]),model:{value:e.selectedItem2,callback:function(t){e.selectedItem2=t},expression:"selectedItem2"}}),e._v(" "),n(u.a,{staticClass:"input-number",attrs:{rules:[e.rules[1]],value:0,placeholder:"0.00",disabled:!0},model:{value:e.tokenAmountOut,callback:function(t){e.tokenAmountOut=t},expression:"tokenAmountOut"}})],1),e._v(" "),n(a.a,{staticClass:"btn mobile-btn",staticStyle:{width:"350px!important",height:"60px!important","margin-top":"15px"},on:{click:e.submitForm}},[e._v("Swap\n          ")])],1),e._v(" "),e._e(),e._v(" "),n(a.a,{staticClass:"showmobile connect-btn bold",on:{click:function(t){e.isLogged||e.$store.dispatch("modalConnect")}}},[e.isLogged?[e._v("\n          "+e._s(e.user.accountId)+"\n        ")]:[e._v("Connect wallet")]],2)],1)]),e._v(" "),e._m(0)],1)])},l,!1,null,null,null);e.default=x.exports;installComponents(x,{AppChartsSwapChart:n(1348).default})}}]);